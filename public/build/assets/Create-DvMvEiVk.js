import{r as s,u as D,j as e,H as v}from"./app-BwkyX7Wq.js";import{A as N}from"./AuthenticatedLayout-DkkEgBhb.js";import{f as m,C as F}from"./format-Bp_3xtJa.js";import{p as w,F as o,S as i,D as A}from"./SelectBox-DCvBvGqf.js";import{A as S,T as q}from"./TextArea-BLQjI38M.js";import{B as k}from"./Button-DJqN2cWy.js";import"./transition-BY37FfXB.js";import"./rocket-CmA41tQ3.js";import"./clsx-B-dksMZM.js";import"./index-CdtfQv4Q.js";function V({categories:n}){const u=s.useMemo(()=>[...n.map(t=>({value:String(t.id),label:t.name,type:t.type}))],[n]),y=m(new Date,"yyyy-MM-dd"),{data:r,setData:a,post:d,processing:x,errors:l}=D({category:"",type:"",amount:"",note:"",startDate:y,frequency:"daily"}),p=s.useCallback(t=>{var c;a("category",t);const b=(c=u.find(C=>C.value===t))==null?void 0:c.type;a("type",b)},[a]),f=s.useMemo(()=>w(r.startDate),[r.startDate]),h=s.useCallback(t=>a("startDate",m(t,"yyyy-MM-dd")),[a]),g=s.useCallback(t=>{a("frequency",t)},[a]);function j(t){t.preventDefault(),d(route("recurring.store"))}return e.jsxs(N,{children:[e.jsx(v,{title:"Add Recurring Rule"}),e.jsxs("div",{className:"mx-auto max-w-xl md:max-w-2xl",children:[e.jsx("h2",{className:"text-xl/8 font-bold",children:"Add Recurring Rule"}),e.jsx(F,{className:"mt-4",children:e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsx(o,{htmlFor:"category",label:"Category",error:l.category,children:e.jsx(i,{groupedOptionArray:u,id:"category",value:r.category,onChange:p,className:"flex w-full",ph:"Select a category..."})}),e.jsx(o,{htmlFor:"type",label:"Type",error:l.type,children:r.type?e.jsx("div",{className:"p-2 text-lg font-normal text-slate-500",children:r.type}):e.jsx("div",{className:"p-2 text-lg font-normal text-slate-400",children:"Select a category..."})}),e.jsx(o,{htmlFor:"amount",label:"Amount",error:l.amount,children:e.jsx(S,{id:"amount",value:r.amount,onChange:t=>a("amount",t),className:"w-full"})}),e.jsx(o,{htmlFor:"note",label:"Note",error:l.note,children:e.jsx(q,{id:"note",value:r.note,onChange:t=>a("note",t),className:"w-full"})}),e.jsx(o,{htmlFor:"startDate",label:"Start Date",error:l.startDate,children:e.jsx(A,{id:"startDate",value:f,onChange:h,className:"w-full"})}),e.jsx(o,{htmlFor:"frequency",label:"Frequency",error:l.frequency,children:e.jsx(i,{optionArray:[{label:"daily",value:"daily"},{label:"weekly",value:"weekly"},{label:"monthly",value:"monthly"}],id:"frequency",value:r.frequency,onChange:g,className:"flex w-full",defaultValue:"daily"})}),e.jsx(k,{text:"Submit",type:"submit",disabled:x})]})})]})]})}export{V as default};
