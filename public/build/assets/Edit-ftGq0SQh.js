import{r as n,u as j,j as e,H as b}from"./app-Dbyc-TFa.js";import{A as C}from"./AuthenticatedLayout-BcYsIAsf.js";import{f as N,C as v}from"./format-DH7gNy5Q.js";import{p as F,F as l,D as S,S as A}from"./SelectBox-DFVmsUjk.js";import{A as w,T as D}from"./TextArea-DULleR32.js";import{B as E}from"./Button-C2agVmIp.js";import"./transition-D6loxbGF.js";import"./rocket-Bj4aiEfB.js";import"./clsx-B-dksMZM.js";import"./index-DmX-GCnC.js";function R({transaction:r,categories:m}){const d=n.useMemo(()=>[...m.map(t=>({value:String(t.id),label:t.name,type:t.type}))],[m]),{data:a,setData:o,patch:c,processing:u,errors:s}=j({date:r.date,category:String(r.category_id),type:r.type,amount:r.amount,note:r.note??""}),p=n.useCallback(t=>{var i;o("category",t);const f=(i=d.find(g=>g.value===t))==null?void 0:i.type;o("type",f)},[o]),x=n.useCallback(t=>o("date",N(t,"yyyy-MM-dd")),[o]),y=n.useMemo(()=>F(a.date),[a.date]);function h(t){t.preventDefault(),c(route("transactions.update",r.id))}return e.jsxs(C,{children:[e.jsx(b,{title:"Edit Transaction"}),e.jsxs("div",{className:"mx-auto max-w-xl md:max-w-2xl",children:[e.jsx("h2",{className:"text-xl/8 font-bold",children:"Edit Transaction"}),e.jsx(v,{className:"mt-4",children:e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsx(l,{htmlFor:"date",label:"Date",error:s.date,children:e.jsx(S,{id:"date",value:y,onChange:x,className:"w-full"})}),e.jsx(l,{htmlFor:"category",label:"Category",error:s.category,children:e.jsx(A,{groupedOptionArray:d,id:"category",value:a.category,onChange:p,className:"flex w-full",ph:"Select a category..."})}),e.jsx(l,{htmlFor:"type",label:"Type",error:s.type,children:a.type?e.jsx("div",{className:"p-2 text-lg font-normal text-slate-500",children:a.type}):e.jsx("div",{className:"p-2 text-lg font-normal text-slate-400",children:"Select a category..."})}),e.jsx(l,{htmlFor:"amount",label:"Amount",error:s.amount,children:e.jsx(w,{id:"amount",value:a.amount,onChange:t=>o("amount",t),className:"w-full"})}),e.jsx(l,{htmlFor:"note",label:"Note",error:s.note,children:e.jsx(D,{id:"note",value:a.note,onChange:t=>o("note",t),className:"w-full"})}),e.jsx(E,{text:"Update",type:"submit",disabled:u})]})})]})]})}export{R as default};
